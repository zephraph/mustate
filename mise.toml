[tools]
bun = "1.2.8"
lefthook = "1.13.0"
"npm:jsr" = "0.13.5"

[env]
_.path = "node_modules/.bin"
_.file = ".env"

[settings]
pin = true
experimental = true

[hooks]
postinstall = ["bun install", "lefthook install"]

[tasks.fmt]
run = "biome check --unsafe --write ."

[tasks.start]
run = "bun run build --watch"

[tasks.build]
run = "bun run build"

[tasks.test]
run = "bun test"

[tasks.typecheck]
run = "tsc --noEmit"

[tasks.example]
depends = ["build"]
run = "bun start"
dir = "example"

[tasks.bump]
description = "Bump version (usage: mise run bump [major|minor|patch])"
run = "bun run example/bump-version.ts ${@:-patch}"
